<a href="https://github.com/ankit-m/daiict-sen-team-13/edit/master/app/scripts/controllers/chat.js" class="improve-docs"><i class="icon-edit"> </i>Improve this doc</a><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/0d04d1c/app/scripts/controllers/chat.js#L10" class="view-source"><i class="icon-eye-open"> </i>View source</a><h1><code ng:non-bindable="">ChatCtrl</code>
<div><span class="hint">controller in module <code ng:non-bindable="">daiictSenTeam13App</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-page"><h3 id="description_chatctrl">ChatCtrl</h3>
<p>Controller of the daiictSenTeam13App</p>
</div></div>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/0d04d1c/app/scripts/controllers/chat.js#L84" class="view-source icon-eye-open"> </a><h3 id="methods_getdata">getData()</h3>
<div class="getdata"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-getdata-page"><p>Fetches all data related to the chat room from the database i.e.
active memers and chat history. The function knows which chat room
data to load as the unique key of the chatroom in the database is
passed in as a route parameter. List of active memebers is store in
a scope variable to display in the view. Based on who sent the message
(as determined by chat history) meesages sent by the user are right-
aligned and messages sent by all others are left-aligned. Also, if the
logged in user is the chat room owner, then the kick option is displayed
beside each member of the chatroom (apartfrom himself of course). Also, a
&quot;view&quot; button is placed beside each active member&#39;s email id which on
clicking will redirect to the corresponding&#39;s user profile. Function called
on /chat view load.</p>
</div><h5 id="methods_getdata_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-undefined">undefined</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-getdata-page"><p>Does not return anything.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/0d04d1c/app/scripts/controllers/chat.js#L299" class="view-source icon-eye-open"> </a><h3 id="methods_goto">goTo(page)</h3>
<div class="goto"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-goto-page"><p>This function is used to redirect the user to either of
the 4 pages, that are profile page, chatRooms page,
jobs page or people page, based on what he/she has
clicked on in the navigation bar displayed in the left
of the screen. Note the following</p>
<ol>
<li>A professor is redirected to &#39;/createChat&#39; on clicking
&quot;Chat Rooms&quot; in the nav bar whereas a student is redirected
to &#39;/chatRooms&#39;.</li>
<li>A professor is redirected to &#39;/posting&#39; on clicking
&#39;Jobs&#39; whereas a student is redirected to &#39;/jobs&#39;.</li>
</ol>
</div><h5 id="methods_goto_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>page</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-goto-page"><p>String that is passed according to
the option clicked by the user in the navigation drawer
displayed to the left of the screen.</p>
</div></td></tr></tbody></table><h5 id="methods_goto_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-undefined">undefined</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-goto-page"><p>Does not return anything.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/0d04d1c/app/scripts/controllers/chat.js#L40" class="view-source icon-eye-open"> </a><h3 id="methods_initmaterial">initMaterial()</h3>
<div class="initmaterial"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-initmaterial-page"><p>Initialises the Materialize modules.</p>
</div><h5 id="methods_initmaterial_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-undefined">undefined</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-initmaterial-page"><p>Does not return anything.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/0d04d1c/app/scripts/controllers/chat.js#L190" class="view-source icon-eye-open"> </a><h3 id="methods_kickmember">kickMember()</h3>
<div class="kickmember"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-kickmember-page"><p>This function gets called when the logged in user clicks on leave room option
On leaving room, the user is deleted from the active members of the chat room
and remaining slots for the chat room is incremented, On success, a toast message
&quot;Left chat room&quot; is displayed. On error, an error toast is displayed.</p>
</div><h5 id="methods_kickmember_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-undefined">undefined</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-kickmember-page"><p>Does not return anything.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/0d04d1c/app/scripts/controllers/chat.js#L237" class="view-source icon-eye-open"> </a><h3 id="methods_kickmember">kickMember(memberkey)</h3>
<div class="kickmember"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-kickmember-page"><p>This function gets called when the chat room owner clicks on kick option
on any of the active members. The member which the chat owner wants to kick
is identified by unique id of the active member in the database. On kick,
the member is deleted from the active members of the chat room and remaining
slots for the chat room is incremented, On success, a toast message
 &quot;Kicked member&quot; is displayed. On error, an error toast is displayed.</p>
</div><h5 id="methods_kickmember_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>memberkey</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-kickmember-page"><p>It is the unique key of the user in the active members
of the chat room in the database who the chat room owner wants to kick from the chat room.</p>
</div></td></tr></tbody></table><h5 id="methods_kickmember_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-undefined">undefined</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-kickmember-page"><p>Does not return anything.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/0d04d1c/app/scripts/controllers/chat.js#L60" class="view-source icon-eye-open"> </a><h3 id="methods_logout">logout()</h3>
<div class="logout"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-logout-page"><p>Ends the user&#39;s session and logs him out.</p>
</div><h5 id="methods_logout_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-undefined">undefined</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-logout-page"><p>Does not return anything.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/0d04d1c/app/scripts/controllers/chat.js#L163" class="view-source icon-eye-open"> </a><h3 id="methods_onenterhit">onEnterHit()</h3>
<div class="onenterhit"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-onenterhit-page"><p>This function gets called when the logged in user who is part of the chat room
hits enter. The text in the message input text box is stored in the database
as a message of the chat room along with the sender. The message is also instantly
displayed on the chat room screen as being sent by the given user.</p>
</div><h5 id="methods_onenterhit_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-undefined">undefined</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-onenterhit-page"><p>Does not return anything.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/0d04d1c/app/scripts/controllers/chat.js#L139" class="view-source icon-eye-open"> </a><h3 id="methods_sentmessage">sentMessage()</h3>
<div class="sentmessage"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-sentmessage-page"><p>This function gets called when the logged in user who is part of the chat room
clicks on send. The text in the message input text box is stored in the database
as a message of the chat room along with the sender. The message is also instantly
displayed on the chat room screen as being sent by the given user.</p>
</div><h5 id="methods_sentmessage_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-undefined">undefined</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-sentmessage-page"><p>Does not return anything.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/0d04d1c/app/scripts/controllers/chat.js#L273" class="view-source icon-eye-open"> </a><h3 id="methods_viewmemberprofile">viewMemberProfile(email)</h3>
<div class="viewmemberprofile"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-viewmemberprofile-page"><p>This function gets called when a logged in user clicks on view
profile for any of the users who is in the &quot;people&quot; list. It takes
in the email address of the user whose profile the logged in user
wants to view.The argument is passed as the route parameter when the function
redirects the user to the profile page he wishes to view.</p>
</div><h5 id="methods_viewmemberprofile_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>email</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-viewmemberprofile-page"><p>It is the email address of the user whose profile
the logged in user wants to view.</p>
</div></td></tr></tbody></table><h5 id="methods_viewmemberprofile_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-undefined">undefined</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatctrl-viewmemberprofile-page"><p>Does not return anything.</p>
</div></td></tr></table></div>
</li>
</ul>
</div>
</div>
