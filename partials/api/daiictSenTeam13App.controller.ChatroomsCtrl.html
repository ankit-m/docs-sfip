<a href="https://github.com/ankit-m/daiict-sen-team-13/edit/master/app/scripts/controllers/chatrooms.js" class="improve-docs"><i class="icon-edit"> </i>Improve this doc</a><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/6c0192c/app/scripts/controllers/chatrooms.js#L11" class="view-source"><i class="icon-eye-open"> </i>View source</a><h1><code ng:non-bindable="">ChatroomsCtrl</code>
<div><span class="hint">controller in module <code ng:non-bindable="">daiictSenTeam13App</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-page"><h3 id="description_chatroomsctrl">ChatroomsCtrl</h3>
<p>Controller of the daiictSenTeam13App</p>
</div></div>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/6c0192c/app/scripts/controllers/chatrooms.js#L131" class="view-source icon-eye-open"> </a><h3 id="methods_getdata">getData()</h3>
<div class="getdata"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-getdata-page"><p>This method queries the database and retrieves a list of all
the chat rooms that have been created. This data is stored in
a scope variable &quot;$scope.chatRooms&quot; so that it can be used by
the view. On error, a toast is created which displays the error
message with relevant details.</p>
</div><h5 id="methods_getdata_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-undefined">undefined</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-getdata-page"><p>Does not return anything.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/6c0192c/app/scripts/controllers/chatrooms.js#L72" class="view-source icon-eye-open"> </a><h3 id="methods_goto">goTo(page)</h3>
<div class="goto"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-goto-page"><p>This function is used to redirect the user to either of
the 4 pages, that are profile page, chatRooms page,
jobs page or people page, based on what he/she has
clicked on in the navigation bar displayed in the left
of the screen. Note the following</p>
<ol>
<li>A professor is redirected to &#39;/createChat&#39; on clicking
&quot;Chat Rooms&quot; in the nav bar whereas a student is redirected
to &#39;/chatRooms&#39;.</li>
<li>A professor is redirected to &#39;/posting&#39; on clicking
&#39;Jobs&#39; whereas a student is redirected to &#39;/jobs&#39;.</li>
</ol>
</div><h5 id="methods_goto_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>page</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-goto-page"><p>String that is passed according to
the option clicked by the user in the navigation drawer
displayed to the left of the screen.</p>
</div></td></tr></tbody></table><h5 id="methods_goto_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-undefined">undefined</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-goto-page"><p>Does not return anything.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/6c0192c/app/scripts/controllers/chatrooms.js#L39" class="view-source icon-eye-open"> </a><h3 id="methods_initmaterial">initMaterial()</h3>
<div class="initmaterial"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-initmaterial-page"><p>Initialises the Matrialise modules.</p>
</div><h5 id="methods_initmaterial_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-undefined">undefined</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-initmaterial-page"><p>Does not return anything.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/6c0192c/app/scripts/controllers/chatrooms.js#L114" class="view-source icon-eye-open"> </a><h3 id="methods_logout">logout()</h3>
<div class="logout"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-logout-page"><p>Ends the user&#39;s session and logs him out.</p>
</div><h5 id="methods_logout_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-undefined">undefined</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-logout-page"><p>Does not return anything.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/6c0192c/app/scripts/controllers/chatrooms.js#L202" class="view-source icon-eye-open"> </a><h3 id="methods_openchatroom">openChatRoom(key, chatRoom)</h3>
<div class="openchatroom"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-openchatroom-page"><p>This function gets called when a user tries to join some chat room
from the list of chat rooms displayed on the /chatRooms page. First, the
user is validated according to the validate function described above. If
the user is a professor, no validation check is applied. If validate
function returns true, the user is added to the list of active members of
the corresponding chat room. Databse transactions mechanism is used to
ensure that even if two members who may have been validated by the validate
function due to delay in database updations because of the network, they do not
both join the chat room if only one slot is left.</p>
</div><h5 id="methods_openchatroom_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>key</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-openchatroom-page"><p>Unique key in the database to identify
the chat room which user is trying to join</p>
</div></td></tr><tr><td>chatRoom</td><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-openchatroom-page"><p>chatRoom object which contains data
corresponding to the chatRoom which user is trying to join</p>
</div></td></tr></tbody></table><h5 id="methods_openchatroom_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-undefined">undefined</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-openchatroom-page"><p>Does not return anything.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/6c0192c/app/scripts/controllers/chatrooms.js#L159" class="view-source icon-eye-open"> </a><h3 id="methods_validate">validate(chatRoom)</h3>
<div class="validate"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-validate-page"><p>This function is a validating function called when a user
tries to enter a chat room. The function takes in as inputs
the chatroom object corresponding to the chat room which the
user tries to enter. Validation checks if the chatRoom is active
or not.</p>
</div><h5 id="methods_validate_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>chatRoom</td><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-validate-page"><p>chatRoom object which contains data
corresponding to the chatRoom which user is trying to join</p>
</div></td></tr></tbody></table><h5 id="methods_validate_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-validate-page"><p>Data is valid or not</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/ankit-m/daiict-sen-team-13/blob/6c0192c/app/scripts/controllers/student.js#L207" class="view-source icon-eye-open"> </a><h3 id="methods_validate">validate(chatRoom)</h3>
<div class="validate"><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-validate-page"><p>This function is a validating function called when a user
tries to enter a chat room. The function takes in as inputs
the chatroom object corresponding to the chat room which the
user tries to enter. Validation checks if the chatRoom is active
or not.</p>
</div><h5 id="methods_validate_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>chatRoom</td><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-validate-page"><p>chatRoom object which contains data
corresponding to the chatRoom which user is trying to join</p>
</div></td></tr></tbody></table><h5 id="methods_validate_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="daiictsenteam13app-controller-page daiictsenteam13app-controller-chatroomsctrl-validate-page"><p>Data is valid or not</p>
</div></td></tr></table></div>
</li>
</ul>
</div>
</div>
